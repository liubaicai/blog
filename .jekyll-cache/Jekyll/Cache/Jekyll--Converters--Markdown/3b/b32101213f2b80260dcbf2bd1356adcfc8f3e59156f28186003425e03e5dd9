I"ù;<p>æ–‡å­—ç‰ˆï¼Œè®°å½•å’Œåˆ†äº«ä¸€ä¸‹è¿‡ç¨‹å’Œç»å†çš„å‘ã€‚</p>
<h2 id="æ“ä½œç³»ç»Ÿ">æ“ä½œç³»ç»Ÿ</h2>
<p>ç¡¬ä»¶é…ç½® i5-4200U åŒæ ¸å››çº¿ç¨‹ 1.4GHzçš„å¼±é¸¡CPUï¼Œ4Gå†…å­˜ã€‚<br />
ç”¨bootcampå®‰è£…äº†æœ€æ–°ç‰ˆçš„win10ï¼Œbuild 1809ã€‚<br />
æ§åˆ¶é¢æ¿\ç¨‹åº\å¯ç”¨æˆ–å…³é—­WindowåŠŸèƒ½ï¼Œæ‰“å¼€â€œé€‚ç”¨ä¸Linuxçš„Windowså­ç³»ç»Ÿâ€,ä»¥ä¸‹ç®€ç§°â€œWSLâ€ã€‚<br />
æ‰“å¼€è‡ªå¸¦åº”ç”¨å•†åº—ï¼Œæœç´¢ubuntuï¼Œä¸‹è½½å®‰è£…ï¼Œå½“å‰ç‰ˆæœ¬ä¸ºUbuntu 18.04.<br />
æ‰“å¼€cmdå‘½ä»¤è¡Œï¼Œè¾“å…¥bashå³å¯è¿›å…¥WSLå­ç³»ç»Ÿ(ä»¥ä¸‹æ“ä½œé™¤éç‰¹æ®Šè¯´æ˜ï¼Œå‡åœ¨bashå‘½ä»¤è¡Œä¸‹)ã€‚</p>
<h2 id="å®‰è£…ä¾èµ–è½¯ä»¶">å®‰è£…ä¾èµ–è½¯ä»¶</h2>
<h3 id="php">PHP</h3>
<p>ä¸»è¦å®‰è£…phpåŠå…¶æ‰©å±•</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo add-apt-repository ppa:ondrej/php  
sudo apt update  
sudo apt install openssl php7.2-common php7.2-cli php7.2-xml php7.2-mysql php7.2-gd php7.2-imap php7.2-intl php7.2-json php7.2-ldap php-imagick php-ssh2 php7.2-recode php7.2-tidy php7.2-xmlrpc php7.2-mbstring php7.2-curl php-redis php7.2-zip php7.2-sqlite3  
</code></pre></div></div>
<h3 id="apache">Apache</h3>
<p>é»˜è®¤å®‰è£…å’Œé…ç½®å°±å¥½ï¼Œé»˜è®¤ç½‘ç«™å­˜æ”¾ä½ç½®/var/www/html</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install apache2 libapache2-mod-php7.2
</code></pre></div></div>
<h3 id="mariadbmysqläº¦å¯">mariadb(mysqläº¦å¯)</h3>
<p>æ•°æ®åº“æœåŠ¡ï¼Œé»˜è®¤é…ç½®</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install mariadb-server
</code></pre></div></div>
<p>é…ç½®rootç”¨æˆ·å¯†ç </p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mysql  
UPDATE mysql.user SET password = PASSWORD('newpassword') WHERE USER = 'root';  
FLUSH PRIVILEGES;  
</code></pre></div></div>
<p>å®Œæˆåé‡å¯æ•°æ®åº“</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo service mysql restart
</code></pre></div></div>
<h3 id="redis">Redis</h3>
<p>ç¼“å­˜æœåŠ¡ï¼Œé»˜è®¤é…ç½®</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install redis
</code></pre></div></div>
<h2 id="nextcloudå®‰è£…">nextcloudå®‰è£…</h2>
<p>å®‰è£…nextcloudçš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œéƒ½æ˜¯å¾ˆç®€å•çš„ã€‚</p>
<h3 id="ä¸€é”®å®‰è£…è„šæœ¬">ä¸€é”®å®‰è£…è„šæœ¬</h3>
<p>å®˜ç½‘æä¾›ä¸€é”®å®‰è£…è„šæœ¬ï¼š<br />
https://download.nextcloud.com/server/installer/setup-nextcloud.php<br />
åˆ›å»ºæ–‡ä»¶å¤¹</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mkdir /var/www/nextcloud
</code></pre></div></div>
<p>ä¿®æ”¹æƒé™</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo chown -R www-data:www-data /var/www/nextcloud
</code></pre></div></div>
<p>è¿›å…¥æ–‡ä»¶å¤¹</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /var/www/nextcloud
</code></pre></div></div>
<p>ä¸‹è½½è„šæœ¬</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo -u www-data wget https://download.nextcloud.com/server/installer/setup-nextcloud.php
</code></pre></div></div>
<p>æ‰§è¡Œè„šæœ¬</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo -u www-data php setup-nextcloud.php
</code></pre></div></div>
<p>ç­‰å¾…ä¸‹è½½å®‰è£…å®Œæˆï¼Œè¿‡ç¨‹ä¸­ä¼šé€‰æ‹©å®‰è£…è·¯å¾„ æŒ‰.é€‰æ‹©å½“å‰(/var/www/nextcloud)å³å¯ã€‚<br />
é…ç½®apacheä¸»é¡µ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo vim /etc/apache2/sites-enabled/000-default.conf
</code></pre></div></div>
<p>å°†å…¶ä¸­çš„DocumentRootçš„å€¼æ”¹ä¸º/var/www/nextcloud<br />
æé†’:vimç¼–è¾‘å™¨ï¼Œéç¼–è¾‘çŠ¶æ€hjklæ§åˆ¶ä¸Šä¸‹å·¦å³ï¼Œiè¿›å…¥ç¼–è¾‘çŠ¶æ€ï¼Œescæ¨å‡ºç¼–è¾‘çŠ¶æ€ï¼Œéç¼–è¾‘çŠ¶æ€ä¸‹:wqä¿å­˜é€€å‡ºï¼Œéç¼–è¾‘çŠ¶æ€ä¸‹:q!ä¸ä¿å­˜é€€å‡ºï¼Œä¸äº†è§£çš„åŒå­¦å»ºè®®æœç´¢vimç›¸å…³å¿«æ·é”®å’Œæ“ä½œã€‚<br />
é…ç½®å®Œæˆï¼Œé‡å¯apache</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo service apache2 restart
</code></pre></div></div>
<p>å³å¯æ‰“å¼€localhostï¼Œè§‚å¯Ÿç»“æœå¹¶è¿›è¡Œåç»­æ“ä½œã€‚</p>
<h3 id="snapå®‰è£…">snapå®‰è£…</h3>
<p>è¯¥å®‰è£…æ–¹å¼ä¸éœ€è¦æ‰‹åŠ¨å®‰è£…ä¾èµ–è½¯ä»¶</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo snap install nextcloud
</code></pre></div></div>
<p>ç­‰å¾…å®‰è£…ç»“æŸå³å¯æ‰“å¼€localhostï¼Œè§‚å¯Ÿç»“æœå¹¶è¿›è¡Œåç»­æ“ä½œã€‚</p>
<h3 id="å…¶ä»–">å…¶ä»–</h3>
<p>æ‰‹åŠ¨å®‰è£…å’Œè™šæ‹Ÿæœºå®‰è£…ä»¥åŠdockeræ–¹å¼åœ¨æ­¤ä¸å†èµ˜è¿°ã€‚</p>
<h2 id="nextcloudé…ç½®">nextcloudé…ç½®</h2>
<h3 id="å®‰è£…">å®‰è£…</h3>
<p>å¦‚æœè½¯ä»¶åŒ…å®‰è£…é¡ºåˆ©ï¼Œé‚£ä¹ˆè¿™æ—¶åœ¨win10ä¸‹æ‰“å¼€ç½‘é¡µlocalhostï¼Œåº”è¯¥ä¼šå‡ºç°é¦–æ¬¡è¿è¡Œçš„é…ç½®ç•Œé¢ã€‚<br />
å¡«å…¥ç”¨æˆ·åå¯†ç ï¼Œæ•°æ®åº“é€‰æ‹©mysql/mariadbï¼Œæ•°æ®åº“åœ°å€localhost:3306,æ•°æ®åº“ånextcloudã€‚<br />
é€‰æ‹©æ•°æ®å­˜æ”¾ä½ç½®ï¼Œæ¯”å¦‚/home/lidemingzi/yunpanï¼Œåœ¨å‘½ä»¤è¡Œåˆ›å»ºç›®å½•å¹¶é…ç½®è¯¥ç›®å½•æƒé™</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mkdir /home/lidemingzi/yunpan  
sudo chown -R www-data:www-data  /home/lidemingzi/yunpan  
sudo chmod -R 0770 /home/lidemingzi/yunpan  
</code></pre></div></div>
<p>å›åˆ°ç½‘é¡µï¼Œç¡®è®¤å®‰è£…ï¼Œç­‰å¾…å®‰è£…ç»“æŸå°±ä¼šè¿›å…¥nextcloudäº‘ç›˜ç•Œé¢</p>
<h3 id="ä¼˜åŒ–">ä¼˜åŒ–</h3>
<p>è¿›å…¥ç¨‹åºç›®å½•ï¼Œç¼–è¾‘é…ç½®æ–‡ä»¶</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /var/www/nextcloud
sudo vim config/config.php
</code></pre></div></div>
<p>åœ¨arrayæ ¼å¼çš„é…ç½®é‡Œï¼ŒåŠ å…¥redisçš„é…ç½®</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'memcache.local' =&gt; '\\OC\\Memcache\\Redis',  
'redis' =&gt; array (                                       
    'host' =&gt; 'localhost',                      
    'port' =&gt; 6379,                             
),                                            
'memcache.locking' =&gt; '\\OC\\Memcache\\Redis',
</code></pre></div></div>
<p>é…ç½®apacheï¼Œå…è®¸è·¯ç”±è½¬å‘å’Œè®¾ç½®header</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo cp /etc/apache2/mods-available/headers.load /etc/apache2/mods-enabled/headers.load  
sudo cp /etc/apache2/mods-available/rewrite.load /etc/apache2/mods-enabled/rewrite.load   
</code></pre></div></div>
<p>å¼€å‘apacheé…ç½®æ–‡ä»¶ï¼Œåœ¨VirtualHostå†…æ·»åŠ é…ç½®</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo vim /etc/apache2/sites-enabled/000-default.conf
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;Directory /var/www/nextcloud&gt;
    AllowOverride All
&lt;/Directory&gt;
</code></pre></div></div>
<p>ç¼–è¾‘/var/www/nextcloud/.user.iniï¼Œä¿®æ”¹å€¼</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo vim /var/www/nextcloud/.user.ini
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>upload_max_filesize=16G
post_max_size=16G
memory_limit=513M
</code></pre></div></div>
<p>å¹¶æ–°å¢</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opcache.enable=1
opcache.enable_cli=1
opcache.interned_strings_buffer=8
opcache.max_accelerated_files=10000
opcache.memory_consumption=128
opcache.save_comments=1
opcache.revalidate_freq=1
</code></pre></div></div>
<p>upload_max_filesizeå’Œpost_max_sizeæ˜¯é…ç½®ä¸Šä¼ æ–‡ä»¶æœ€å¤§é™åˆ¶ã€‚
å¤åˆ¶ä¸€ä»½åˆ°phpçš„é…ç½®ç›®å½•</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo cp .user.ini /etc/php/7.2/apache2/conf.d/user.ini
</code></pre></div></div>
<p>é‡å¯apacheå³å¯</p>
<h2 id="é…ç½®å¤–ç½‘è®¿é—®">é…ç½®å¤–ç½‘è®¿é—®</h2>
<p>æ­¤å¤„é‡‡ç”¨äº‘æœåŠ¡å™¨vpsè½¬å‘çš„æ–¹å¼
é‡‡ç”¨çš„æ˜¯frpsä¸€æ¬¾å¾ˆæ–¹ä¾¿çš„å¼€æºçš„å±€åŸŸç½‘ç©¿é€å·¥å…· 
https://github.com/fatedier/frp/releases</p>
<h3 id="vpsæœåŠ¡å™¨ç«¯">VPSæœåŠ¡å™¨ç«¯</h3>
<p>ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„releaseåŒ…å¹¶è§£å‹ï¼Œä¿®æ”¹frps.ini</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[common]
bind_port = 7000
vhost_http_port = 8080
</code></pre></div></div>
<p>é…ç½®æˆè‡ªå¯åŠ¨ï¼Œä»¥ubuntuä¸ºä¾‹ï¼Œæ–°å»ºé…ç½®æ–‡ä»¶</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo vim /lib/systemd/system/frps.service
</code></pre></div></div>
<p>å†™å…¥ä»¥ä¸‹å†…å®¹</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Unit]
Description=frps service
After=network.target syslog.target
Wants=network.target
[Service]
Type=simple
#å¯åŠ¨æœåŠ¡çš„å‘½ä»¤ï¼ˆæ­¤å¤„å†™ä½ çš„abcçš„å®é™…å®‰è£…ç›®å½•ï¼‰
ExecStart=/your/path/frps -c /your/path/frps.ini
[Install]
WantedBy=multi-user.target
</code></pre></div></div>
<p>é…ç½®å®Œæˆåï¼Œå¯é€šè¿‡ â€œä½ çš„vpsåŸŸå:8080â€ æ–¹å¼è®¿é—®ä½ æœ¬åœ°çš„nextcloudï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é…ç½®80ç«¯å£ï¼Œæˆ–è€…é€šè¿‡é…ç½®nginxç­‰çš„ç«¯å£è½¬å‘åŠŸèƒ½æŠŠå­åŸŸåçš„80ç«¯å£è½¬å‘åˆ°8080ä¸Šã€‚
ä»¥nginxä¸ºä¾‹ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­httpèŠ‚ç‚¹å†…æ·»åŠ é…ç½®</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    server {
        listen       80;
        server_name  cloud.lideyuming.com;

        location / {
            proxy_pass   http://cloud.lideyuming.com:8080;
        }
    }
</code></pre></div></div>
<h3 id="æœ¬åœ°ç”µè„‘win10">æœ¬åœ°ç”µè„‘Win10</h3>
<p>ä¸‹è½½windowsçš„releaseåŒ…ï¼Œè§£å‹è‡³åˆé€‚çš„ç›®å½•ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶frpc.ini,x.x.x.xä¸ºä½ çš„vpsåœ°å€æˆ–è€…åŸŸå</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># frpc.ini
[common]
server_addr = x.x.x.x
server_port = 7000

[web]
type = http
local_port = 80
custom_domains = www.ä½ è¦ç»‘å®šçš„åŸŸå.com
</code></pre></div></div>
<p>é…ç½®åœ¨windowsä¸‹è‡ªå¯åŠ¨<br />
https://github.com/kohsuke/winsw/releases ä¸‹è½½releaseåŒ…è§£å‹<br />
æ‹·è´winsw.exe(å¯èƒ½ä¸å«è¿™ä¸ªåå­—)åˆ°frpcåŒç›®å½•ï¼Œæ–°å»ºåŒåçš„winsw.xmlæ–‡ä»¶ï¼Œå†™å…¥</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;configuration&gt;
  
  &lt;!-- ID of the service. It should be unique accross the Windows system--&gt;
  &lt;id&gt;FRPC&lt;/id&gt;
  &lt;!-- Display name of the service --&gt;
  &lt;name&gt;frpc client (powered by WinSW)&lt;/name&gt;
  &lt;!-- Service description --&gt;
  &lt;description&gt;å†…ç½‘ç©¿é€å·¥å…·&lt;/description&gt;
  
  &lt;!-- Path to the executable, which should be started --&gt;
  &lt;executable&gt;frpc.exe&lt;/executable&gt;
  &lt;arguments&gt;-c frpc.ini&lt;/arguments&gt;
  &lt;logmode&gt;reset&lt;/logmode&gt;

&lt;/configuration&gt;
</code></pre></div></div>
<p>æ‰“å¼€windowsçš„cmdï¼Œè¿›å…¥winswçš„æ‰€åœ¨ç›®å½•, è¿è¡Œ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>winsw.exe install
</code></pre></div></div>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨ä»»åŠ¡ç®¡ç†å™¨çš„æœåŠ¡æ ‡ç­¾ï¼Œæ‰¾åˆ°FRPCæœåŠ¡ï¼Œå¹¶å¯åŠ¨ã€‚</p>

<p>æ‰“å¼€é˜²ç«å¢™çš„80å’Œç›¸å…³ç«¯å£</p>
<h3 id="æœ¬åœ°ç”µè„‘wsl">æœ¬åœ°ç”µè„‘WSL</h3>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo vim /var/www/nextcloud/config/config.php
</code></pre></div></div>
<p>åœ¨trusted_domainsçš„é…ç½®é¡¹arrayä¸­åŠ å…¥ä½ ç»‘å®šçš„åŸŸå(å¦‚æœæœ‰çš„è¯)ï¼Œé‡å¯apache</p>
<h2 id="æ•°æ®è¿ç§»å’Œå¤‡ä»½">æ•°æ®è¿ç§»å’Œå¤‡ä»½</h2>
<h3 id="æ•°æ®è¿ç§»">æ•°æ®è¿ç§»</h3>
<p>ä¸æ¨èç›´æ¥åœ¨ç³»ç»Ÿå±‚é¢å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œã€‚<br />
å¦‚éœ€å°†æ—§æ–‡ä»¶è¿ç§»è¿›æ¥ï¼Œå°†æ–‡ä»¶ç§»åŠ¨åˆ°æ•°æ®å­˜æ”¾ä½ç½®ï¼Œæ¯”å¦‚/home/lidemingzi/yunpan/lidemingzi/filesï¼Œç„¶åè¿›å…¥å®‰è£…ç›®å½•æ‰§è¡Œnextcloudè‡ªå¸¦çš„æ‰«æç¨‹åºï¼Œæ¯”å¦‚ï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /var/www/nextcloud
sudo -u www-data php occ files:scan --all
</code></pre></div></div>
<h3 id="å¤‡ä»½">å¤‡ä»½</h3>
<p>nextcloudå•†åº—æœ‰ftpæ”¯æŒæ’ä»¶ï¼Œè‡ªèº«ä¹Ÿæ”¯æŒwebdavè®¿é—®ï¼Œåœ¨å¦ä¸€å°ç”µè„‘ä¸Šä½¿ç”¨GoodSyncç­‰ç¨‹åºå®šæœŸå¤‡ä»½å³å¯ã€‚</p>
<h2 id="ä¸€äº›å‘">ä¸€äº›å‘</h2>
<h3 id="è‡ªå¯åŠ¨">è‡ªå¯åŠ¨</h3>
<p>win10çš„WSLä¸èƒ½è·Ÿéšç³»ç»Ÿå¯åŠ¨ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ å¯åŠ¨è„šæœ¬<br />
æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ”¹åä¸ºwslstartup.batï¼Œé‡Œé¢å†™å…¥å¦‚ä¸‹å†…å®¹</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>powershell.exe -WindowStyle Hidden -c "bash /init.sh "
</code></pre></div></div>
<p>æ‰“å¼€è¿è¡Œï¼Œè¾“å…¥shell:startupå›è½¦ï¼Œæ‰“å¼€windowså¯åŠ¨æ–‡ä»¶å¤¹ï¼Œå°†åˆ›å»ºçš„æ‰¹å¤„ç†è„šæœ¬ç§»åŠ¨è¿›å»<br />
åœ¨WSLå‘½ä»¤è¡Œä¸‹ï¼Œåˆ›å»ºinitæ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼Œ123456æ›¿æ¢ä¸ºä½ çš„å¯†ç </p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo vim /init.sh
</code></pre></div></div>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#!/bin/bash
echo "123456" | sudo -S /usr/sbin/service mysql start
echo "123456" | sudo -S /usr/sbin/service apache2 start
echo "123456" | sudo -S /usr/sbin/service redis-server start
</code></pre></div></div>
<p>é…ç½®æƒé™</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo chmod 755 /init.sh
sudo chown lidemingzi:lidemingzi /init.sh
</code></pre></div></div>
<h3 id="æŒ‚è½½çš„windowsç›˜ç¬¦çš„æƒé™é—®é¢˜">æŒ‚è½½çš„windowsç›˜ç¬¦çš„æƒé™é—®é¢˜</h3>
<p>åœ¨WSLä¸­ï¼Œwin10çš„cç›˜dç›˜ï¼Œè‡ªåŠ¨æŒ‚è½½åœ¨äº†/mnt/c /mnt/dä¸‹ï¼Œä½†æ˜¯è¿™äº›æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„æƒé™éƒ½æ˜¯1001å¹¶ä¸”æ— æ³•é€šè¿‡chownå’Œchmodæ›´æ”¹ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨drvfsfæ–¹æ³•é‡æ–°æŒ‚è½½</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo umount /mnt/c 
sudo mount -t drvfs C: /mnt/c -o metadata,uid=1000,gid=1000,umask=22,fmask=11
</code></pre></div></div>
<p>ä¸ºäº†æ–¹ä¾¿ï¼ŒæŠŠå¦‚ä¸‹è„šæœ¬åŠ å…¥åˆ°/init.shä¸­ï¼ŒWSLå¯åŠ¨æ—¶å°±æ‰§è¡Œ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo "123456" | sudo -S /bin/umount /mnt/c
echo "123456" | sudo -S /bin/umount /mnt/d
echo "123456" | sudo -S /bin/mount -t drvfs C: /mnt/c -o metadata,uid=1000,gid=1000,umask=22,fmask=11
echo "123456" | sudo -S /bin/mount -t drvfs P: /mnt/d -o metadata,uid=1001,gid=1001,umask=22,fmask=11
</code></pre></div></div>
<h2 id="å®Œæˆ">å®Œæˆ</h2>
<p>è‡³æ­¤ï¼Œnextcloudçš„æ­å»ºåŸºæœ¬å®Œæˆï¼Œnextcloudå®˜ç½‘æä¾›æ¡Œé¢å’Œæ‰‹æœºå®¢æˆ·ç«¯ï¼ŒåŒæ—¶æœ‰å¾ˆå¤šæ’ä»¶å¯ä¾›é€‰æ‹©ï¼Œå¯ä»¥ä½¿å…¶æ›´å¥½ç”¨ã€‚</p>
:ET