I"¯<p></p>
<p>é¡¹ç›®åšå¾—å·®ä¸å¤šï¼Œæ‰¾è€æ¿è¦äº†æ–°æœåŠ¡å™¨ï¼ŒæŠŠéƒ¨ç½²è¿‡ç¨‹å†™ä¸‹æ¥ã€‚&lt;/p&gt;<p>CentOS 6.5</p><blockquote><p>1. yum update æ›´æ–°ç³»ç»Ÿ</p></blockquote><blockquote>2. å®‰è£…å¹¶æ›´æ–°gitç‰ˆæœ¬</blockquote><p>è‡ªå¸¦çš„æ—§ç‰ˆæœ¬å¯èƒ½ä¼šæ— æ³•æ›´æ–°æŸäº›ç‰ˆæœ¬åº“çš„å†…å®¹(æ¯”å¦‚coding.net)</p><p>å¯ä»¥é€šè¿‡yumå®‰è£…gitï¼Œæˆ–è€…å»githubä¸‹è½½ç¼–è¯‘å®‰è£…</p><p><a href="https://github.com/git/git/archive/v2.10.1.tar.gz">https://github.com/git/git/archive/v2.10.1.tar.gz</a><br /></p><p><span style="color: rgb(241, 78, 50); font-family: Courier, monospace;">git clone https://github.com/git/git</span><br /></p><br /><blockquote>3. å®‰è£…ruby</blockquote><p>å®‰è£…rubyæœ‰å¤šç§æ–¹å¼ï¼Œyumå®‰è£…ç‰ˆæœ¬è¾ƒä½ï¼Œæ­¤å¤–è¿˜å¯ä»¥é‡‡ç”¨æºç å®‰è£…ï¼Œrvmå®‰è£…ç­‰ç­‰ã€‚&lt;/p&gt;<p>è¿™é‡Œç”¨äº†ä¸€ä¸ªå«ruby-installçš„å®‰è£…æ–¹å¼ï¼Œå…ˆç¼–è¯‘å®‰è£…è¿™ä¸ªå·¥å…·ï¼Œç„¶åå¯ä»¥æ–¹ä¾¿çš„ç®¡ç†rubyç‰ˆæœ¬ã€‚&lt;/p&gt;<p><a href="https://github.com/postmodern/ruby-install">https://github.com/postmodern/ruby-install</a></p><p>å®‰è£…å®Œè®¾ç½®ä¸‹gemæº <a href="http://www.liubaicai.net/articles/489" target="_blank">æ•™ç¨‹</a></p><p>ç„¶ågem install passenger<br /></p><blockquote> 4. å®‰è£…nginx+passenger</blockquote><pre>passenger-install-nginx-module<br /></pre><pre>sudo yum install -y epel-release yum-utils
sudo yum-config-manager --enable epel
sudo yum install -y pygpgme curl
sudo curl --fail -sSLo /etc/yum.repos.d/passenger.repo https://oss-binaries.phusionpassenger.com/yum/definitions/el-passenger.repo
sudo yum install -y nginx passenger</pre><p>å®‰è£…å®Œåæ‰¾åˆ°&nbsp;</p><pre>/etc/nginx/conf.d/passenger.conf<br /></pre><p>å°†ä¸‹é¢ä¸‰è¡Œæ³¨é‡Šå»æ‰ï¼Œå¹¶ä¸”ä¿®æ”¹</p><pre>passenger_root /some-filename/locations.ini;
passenger_ruby /usr/bin/ruby;
passenger_instance_registry_dir /var/run/passenger-instreg;<br /></pre><p>passenger_rubyè®¾ç½®ä¸ºç¬¬ä¸‰æ­¥å®‰è£…çš„rubyè·¯å¾„</p><p>passenger_rootå¯ä»¥ç”¨ â€˜passenger-config --rootâ€™å‘½ä»¤æŸ¥è¯¢ï¼Œé€‰æ‹©ç¬¬ä¸‰æ­¥gemå®‰è£…çš„passengerè·¯å¾„ä¸‹çš„</p><p>passenger_instance_registry_dirè·¯å¾„é»˜è®¤å¯ä»¥ä¸ç”¨æ”¹ï¼Œä½†æ˜¯è·¯å¾„ä¸å­˜åœ¨çš„è¯è¦æ–°å»ºä¸‹ï¼Œä¹Ÿå¯ä»¥æ”¹ä¸º/tmpä¹‹ç±»çš„&lt;/p&gt;<p>ç„¶åé‡å¯æœåŠ¡</p><pre>sudo service nginx restart<br /></pre><p><a href="https://www.phusionpassenger.com/library/install/nginx/install/oss/el6/" target="_blank">â†‘è¯¦ç»†æ­¥éª¤&lt;/a&gt;<br />&lt;/p&gt;<blockquote>5. å®‰è£…mysql</blockquote><p>å¯ä»¥é€šè¿‡yumç›´æ¥å®‰è£…ï¼Œä¹‹åè®¾ç½®ç”¨æˆ·åå¯†ç </p><p>æ ¹æ®é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶ï¼Œå…ˆå»ºç«‹æ•°æ®åº“ï¼Œæ³¨æ„ç¼–ç æ¯”å¦‚utf8</p><pre>CREATE DATABASE `test` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci<br /></pre><p>å¹¶å®‰è£… yum install mysql-devel</p><blockquote>6. å®‰è£…sqlite3</blockquote><p>æµ‹è¯•å’Œå¼€å‘ç¯å¢ƒå¯èƒ½ç”¨åˆ°&lt;/p&gt;<p>å¹¶å®‰è£…&amp;nbsp;yum install&nbsp;sqlite3-devel<br /></p><blockquote>7. å®‰è£…jdkå¹¶é…ç½®ç¯å¢ƒå˜é‡&lt;/blockquote&gt;<p>ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹</p><blockquote>8. å®‰è£…nodejs</blockquote><p>é¡¹ç›®å¯é€‰jså¼•æ“ä¹‹ä¸€</p><blockquote>9. å®‰è£…imagemagick</blockquote><p>éªŒè¯ç å›¾ç‰‡ç”Ÿæˆ&lt;/p&gt;<blockquote>10.&nbsp;<span style="color: rgb(51, 51, 51);">elasticsearchå…¨æ–‡æœç´¢å¼•æ“</span></blockquote><p><span style="color: rgb(51, 51, 51);">å¯ä»¥å‚è€ƒè¿™é‡Œ&lt;/span&gt;&lt;/p&gt;<p><a href="http://www.liubaicai.net/articles/748" target="_blank">http://www.liubaicai.net/articles/748</a><font color="#333333"></font></p><blockquote><font color="#333333">11. è¿›è¡Œæœ€åçš„è®¾ç½®</font></blockquote><p><font color="#333333">æ‰¾åˆ°nginxçš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚åœ¨â€˜/etc/nginx/nginx.conf</font><span style="color: rgb(51, 51, 51);">â€™&lt;/span&gt;&lt;/p&gt;<p><font color="#333333">æ·»åŠ è®¾ç½®</font></p><pre>server {
    listen 80;
    server_name yourserver.com;

    # railsé¡¹ç›®çš„publicç›®å½•ä½ç½®
    root /var/www/myapp/code/public;

    # å¼€å¯ Passenger
    passenger_enabled on;
}<br /></pre><p><a href="https://www.phusionpassenger.com/library/walkthroughs/deploy/ruby/ownserver/nginx/oss/el6/deploy_app.html" target="_blank">â†‘è¯¦ç»†æ­¥éª¤&lt;/a&gt;<font color="#333333"><br /></font>&lt;/p&gt;<p><font color="#333333">é¡¹ç›®ä¸­ä½¿ç”¨ â€˜&lt;/font&gt;&lt;span style="color: rgb(54, 46, 43); font-family: "Microsoft YaHei"; font-size: 12px; font-weight: bold;"&gt;rake secret RAILS_ENV=production&lt;/span&gt;<span style="color: rgb(51, 51, 51);">â€™ç”Ÿæˆ&lt;/span&gt;<font color="#333333">secret_key_baseï¼Œè®¾ç½®åˆ°ç¯å¢ƒå˜é‡æˆ–è€…é¡¹ç›®ä¸­</font>&lt;/p&gt;<pre><font color="#333333">gem install bundler<br /></font><font color="#333333">bundle install</font></pre><p><font color="#333333">æ ¹æ®æŠ¥é”™ä¿¡æ¯ï¼Œä¼šæç¤ºä½ è¿˜æœ‰å“ªäº›ä¾èµ–æ²¡æœ‰å®‰è£…&lt;/font&gt;&lt;/p&gt;<pre><font color="#333333">rake db:migrate VERSION=0 RAILS_ENV="production"<br /></font><font color="#333333">rake db:migrate</font><span style="color: rgb(51, 51, 51);">&nbsp;</span><span style="color: rgb(51, 51, 51);">RAILS_ENV="production"<br /></span><font color="#333333">rake db:seed production</font></pre><p><font color="#333333">ç„¶åæ„‰å¿«çš„&lt;/font&gt;&lt;/p&gt;<pre><font color="#333333">sudo service nginx restart</font></pre><p><font color="#333333">å¦‚æœé”™è¯¯logæç¤ºpassengerå¤šä¸ªç‰ˆæœ¬å†²çª</font></p><p><font color="#333333">éœ€è¦yum remove passengerï¼Œåªä¿ç•™gemå®‰è£…çš„å³å¯&lt;/font&gt;&lt;/p&gt;<p><font color="#333333">å°±å¯ä»¥æ„‰å¿«çš„è®¿é—®äº†&lt;br&gt;</font><br /></p><p></p>
</font></p></font></p></font></p></span></font></p></a></p></span></p></span></p></p></blockquote></p></a></p></p></p></p></p>
:ET