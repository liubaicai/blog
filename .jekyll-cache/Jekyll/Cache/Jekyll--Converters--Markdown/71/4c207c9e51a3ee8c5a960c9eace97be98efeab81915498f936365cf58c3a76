I"å6<p>Sinatraæ˜¯Blake Mizeranyåœ¨2007å¹´9æœˆå¼€å‘çš„Rubyè¯­è¨€çš„Webæ¡†æ¶ã€‚å®ƒæœ€çªå‡ºçš„ç‰¹ç‚¹å°±æ˜¯è½»é‡ã€å¿«é€Ÿã€‚æ›´éš¾èƒ½å¯è´µçš„æ˜¯ï¼ŒSinatraçš„æºä»£ç åªæœ‰ä¸€åƒå¤šè¡Œã€‚</p>

<p>åœ¨ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°Sinatraçš„æ—¶å€™ï¼Œæˆ‘ä¾¿è¢«å®ƒæ·±æ·±åœ°å¸å¼•ä½äº†ã€‚éšåï¼Œæˆ‘åœ¨09å¹´3æœˆçš„Shanghai on Railsæ´»åŠ¨å‘å¤§å®¶ä»‹ç»äº†è¿™ä¸ªæ¡†æ¶ã€‚10å¹´8æœˆä»½æˆ‘æœ‰å¹¸å¯ä»¥åœ¨RubyKaigiè¿™æ ·çš„å…¨çƒçº§Rubyç¤¾åŒºä¼šè®®ä¸Šä½œä¸ºæ¼”è®²è€…å’Œå¬ä¼—äº¤æµSinatraã€‚æœ¬æ–‡åˆ™æ˜¯å¯¹10å¹´10æœˆä»½åœ¨ä¸Šæµ·Linuxç”¨æˆ·ç»„ä»‹ç»Sinatraçš„è®²åº§çš„ä¸€äº›æ•´ç†å’Œæ€»ç»“ã€‚å¸Œæœ›è¯»è€…èƒ½å¤Ÿé€šè¿‡æœ¬ä¾‹å­èƒ½ä½“ä¼šåˆ°Sinatraçš„ç²¾å¦™ä¹‹å¤„ã€‚</p>
<h2>æœ€æ–°ç‰ˆæœ¬: 1.1</h2>
<p>æˆªæ­¢åˆ°æœ¬æ–‡æˆæ–‡ä¸ºæ­¢ï¼ŒSinatraæœ€æ–°çš„ç‰ˆæœ¬æ˜¯10å¹´10æœˆ24æ—¥å‘å¸ƒçš„1.1ç‰ˆæœ¬ã€‚å¾ˆå¹¸è¿çš„æ˜¯ï¼Œæˆ‘å¯¹äºREADMEçš„ç¿»è¯‘æ­£å¥½åœ¨å‘å¸ƒçš„å‰ä¸€å¤©è¢«åˆå¹¶è¿›å…¥äº†ä¸»åˆ†æ”¯ã€‚äºæ˜¯åœ¨1.1çš„æ­£å¼ç‰ˆæœ¬ä¸­ï¼Œä¸­æ–‡çš„è¯»è€…å¯ä»¥ç›´æ¥é˜…è¯»åˆ°ä¸­æ–‡çš„READMEï¼Œä»è€Œæ›´å¥½çš„äº†è§£Sinatraçš„ç”¨æ³•ã€‚å®˜ç½‘ä¸Šä¹Ÿæœ‰æ­¤æ–‡æ¡£çš„é“¾æ¥ï¼Œ&lt;a href=â€http://www.sinatrarb.com/intro-zh.htmlâ€&gt;http://www.sinatrarb.com/intro-zh.html&lt;/a&gt;ã€‚æœ¬æ–‡çš„ä»£ç å…¨éƒ¨ä»¥1.1ç‰ˆæœ¬ä¸ºå‡†ã€‚</p>
<h2>Sinatraçš„åŸºæœ¬ç»“æ„&lt;/h2&gt;
è®©æˆ‘ä»¬ä»Sinatraæœ€å¸¸è§çš„Hello worldç¨‹åºå¼€å§‹ï¼š
<pre>get '/' { "Hello, world!" }
</pre>
è¿™æ®µç®€å•çš„Hello worldç¨‹åºåŒ…å«äº†Sinatraç¨‹åºçš„ä¸‰ä¸ªåŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼š

<a href="http://www.liubaicai.net/wp-content/uploads/2014/09/ac.jpg"><img class="alignnone size-thumbnail wp-image-360" src="http://www.liubaicai.net/wp-content/uploads/2014/09/ac-140x100.jpg" alt="ac" width="140" height="100" /></a>
<ul>
	<li>è·¯ç”±ï¼ˆrouteï¼‰ï¼š

'/' å°±æ˜¯è·¯ç”±ã€‚è·¯ç”±å¯ä»¥æ˜¯å•ä¸€çš„è·¯å¾„ï¼Œæˆ–è€…å¸¦æœ‰å‚æ•°çš„è·¯å¾„ï¼ˆæ¯”å¦‚Â &lt;code&gt;/:name&lt;/code&gt;ï¼‰ï¼Œç”šè‡³æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚å¯¹äºSinatraä¸çŸ¥é“çš„è·¯ç”±ï¼ŒSinatraä¼šè¿”å›404é”™è¯¯ï¼ˆä½œä¸ºAppè¿è¡Œçš„æ—¶å€™ï¼‰ï¼Œæˆ–è€…ä¼ é€’ç»™ä¸‹é¢çš„ä¸­é—´ä»¶ï¼ˆä½œä¸ºä¸­é—´ä»¶è¿è¡Œçš„æ—¶å€™ï¼‰ã€‚&lt;/li&gt;
	<li>æ–¹æ³•ï¼ˆmethodï¼‰ï¼š

<code>get</code>æ˜¯æ–¹æ³•ã€‚åœ¨Sinatraä¸­ï¼ŒHTTPçš„å››ä¸ªæ–¹æ³•&lt;code&gt;GET/POST/PUT/DELETE&lt;/code&gt;éƒ½æœ‰ç›¸åº”çš„æ–¹æ³•&lt;code&gt;get/post/put/delete&lt;/code&gt;ã€‚&lt;/li&gt;
	<li>å¤„ç†å™¨ï¼ˆhandlerï¼‰ï¼š

å¤„ç†å™¨å°±æ˜¯æœ€åçš„ä»£ç å—ï¼Œå¤„ç†å™¨çš„è¿”å›å€¼å°±æ˜¯Sinatraè¿”å›ç»™å®¢æˆ·ç«¯ï¼ˆä¸»è¦æ˜¯æµè§ˆå™¨ï¼‰çš„å†…å®¹ã€‚è¿”å›å€¼ä¸»è¦ä»¥å­—ç¬¦ä¸²ä¸ºä¸»ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒ…å«çŠ¶æ€ç ï¼Œæ¶ˆæ¯å¤´ï¼Œæ¶ˆæ¯ä½“çš„æ•°ç»„ã€‚&lt;/li&gt;
&lt;/ul&gt;
<h3>æ¸²æŸ“æ¨¡ç‰ˆ</h3>
Sinatraæ”¯æŒçš„æ¨¡ç‰ˆç±»å‹ä¹Ÿåœ¨é€æ¸å¢åŠ ä¸­ã€‚Hamlæ˜¯ç¬”è€…å¸¸ç”¨çš„æ ¼å¼ï¼Œå› ä¸ºå®ƒä½¿ç”¨äº†CSSé€‰æ‹©ç¬¦æ„é€ HTMLæ ‡ç­¾ï¼Œä»è€ŒèŠ‚çœç¼–å†™æ—¶é—´ã€‚å¦ä¸€ç§å¸¸è§çš„æ ¼å¼æ˜¯Rubyè‡ªå¸¦çš„ERBï¼Œæœ¬ä¾‹å­å°†ä½¿ç”¨Hamlä½œä¸ºåšå®¢çš„æ¨¡ç‰ˆã€‚

æ¸²æŸ“æ¨¡ç‰ˆåœ¨Sinatraä¸­æ˜¯å¾ˆå®¹æ˜“çš„äº‹ï¼š
<pre>get '/' do
  haml :index
end
</pre>
åœ¨è¿™é‡Œ&lt;code&gt;haml :index&lt;/code&gt;ï¼Œå°±è¡¨ç¤ºä½¿ç”¨Hamlæ¸²æŸ“<code>'views/index.haml'</code>è¿™ä¸ªæ¨¡ç‰ˆã€‚

ä¼ é€’å‚æ•°ä¹Ÿæ˜¯å¾ˆå®¹æ˜“çš„äº‹ï¼Œå¯ä»¥ä½¿ç”¨å®ä¾‹å˜é‡ï¼š
<pre># in app.rb
get '/' do
  @now = Time.now
  haml :index
end
# in views/index.haml
Hello, now is #{@now}
</pre>
æˆ–è€…ç”¨localsä¼ é€’å‚æ•°ï¼ˆå¦‚ä¾‹å­ä¸­çš„å“ˆå¸Œï¼‰ï¼š
<pre># in app.rb
get '/' do
  now = Time.now
  haml :index, :locals =&gt; { :now =&gt; now }
end
# in views/index.haml
Hello, now is #{now}
</pre>
ç†Ÿæ‚‰äº†è·¯ç”±å’Œæ¨¡ç‰ˆï¼Œå°±å¯ä»¥å¼€å§‹æ„å»ºWebåº”ç”¨ç¨‹åºäº†ï¼ŒSinatraä¹Ÿæä¾›äº†ä¸€äº›ç®€å•çš„è¾…åŠ©æ–¹æ³•ï¼Œæ¯”å¦‚è¿‡æ»¤å™¨ã€&lt;code&gt;helpers&lt;/code&gt;ã€&lt;code&gt;configure&lt;/code&gt;ã€&lt;code&gt;halt&lt;/code&gt;å’Œ&lt;code&gt;pass&lt;/code&gt;ç­‰ç­‰ï¼Œè¿™äº›å°±ä¸å†è¿™é‡Œä¸€ä¸€å™è¿°äº†ï¼Œæ›´å¤šçš„å†…å®¹è¯·ä»”ç»†å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚
<h2>å¼€å§‹åšå®¢åº”ç”¨&lt;/h2&gt;
<h3>æ–‡ä»¶æ ¼å¼</h3>
æœ¬åšå®¢åº”ç”¨å°†ä½¿ç”¨<a title="dorothy" href="http://github.com/cloudhead/dorothy">dorothy</a>æ ¼å¼çš„æ–‡ä»¶å­˜å‚¨ï¼Œä¸ä¼šä½¿ç”¨æ•°æ®åº“ã€‚

ä¾‹å­å¦‚ä¸‹ï¼š
<pre># æ–‡ä»¶å: 2010-10-10-a-lucky-day.txt
title: "A Lucky Day"
date: 2010-10-10
author: "å´æ±Ÿ"
 
# ä»Šå¤©æ˜¯æˆ‘çš„å¹¸è¿æ—¥
 
æ—©ä¸Šåœ¨åœ°é“é—¨å°†è¦å…³ä¸Šçš„é‚£ä¸€åˆ»ï¼Œæˆ‘å†²è¿›äº†è½¦å¢ï¼Œäºæ˜¯çº¦ä¼šæ²¡æœ‰è¿Ÿåˆ°...
 
ä¸­åˆæå‰äº†ä¸€ç‚¹å»æ¸¯ä¸½ï¼Œå±…ç„¶åªæ’äº†42åˆ†é’Ÿ...
 
æ™šä¸Šåˆèµ¶ä¸Šäº†æœ«ç­è½¦...
 
åˆ°å®¶æ•°äº†æ•°ï¼Œé’±åŒ…é‡Œé¢æ­£å¥½æœ‰42å—é’±...
</pre>
è¯¥æ–‡ä»¶çš„ç»“æ„æ˜¯ï¼šä»¥ç¬¬ä¸€ä¸ªè¿ç»­æ¢è¡Œç¬¦ï¼ˆ&lt;code&gt;"\n\n"&lt;/code&gt;ï¼‰ä¸ºç•Œçº¿ï¼Œå‰ä¸€åŠæ˜¯<a title="Yet Another Markup Language" href="http://www.yaml.org/">YAML</a>æ ¼å¼çš„é…ç½®ä¿¡æ¯ï¼Œåä¸€åŠåˆ™æ˜¯&lt;a title="Daring Fireball: markdown" href="http://daringfireball.net/projects/markdown/"&gt;markdown&lt;/a&gt;æ ¼å¼çš„æ–‡æœ¬ã€‚&lt;a title="Yet Another Markup Language" href="http://www.yaml.org/"&gt;YAML&lt;/a&gt;æ ¼å¼æ˜¯ä¸€ç§è¡¨ç¤ºæ•°æ®çš„æ ‡è®°è¯­è¨€ã€‚è¿™é‡Œåªä½¿ç”¨åˆ°å®ƒçš„é”®å€¼å¯¹ç»“æ„ã€‚&lt;a title="Daring Fireball: markdown" href="http://daringfireball.net/projects/markdown/"&gt;markdown&lt;/a&gt;åˆ™æ˜¯å¾ˆæ–¹ä¾¿çš„ç”¨çº¯æ–‡æœ¬ç¼–å†™HTMLçš„æ ¼å¼ã€‚æ¯”å¦‚&lt;code&gt;"# header1"&lt;/code&gt;ä¼šç”Ÿæˆ&lt;code&gt;"&lt;h1&gt;header1&lt;/h1&gt;"&lt;/code&gt;ï¼Œ&lt;code&gt;"*emphasis*"&lt;/code&gt;ä¼šç”Ÿæˆ&lt;code&gt;"&lt;em&gt;emphasis&lt;/em&gt;"&lt;/code&gt;ç­‰ç­‰ã€‚
<h3>å®‰è£…ç¯å¢ƒ</h3>
æœ¬åšå®¢åº”ç”¨ä½¿ç”¨Ruby 1.8.7ç‰ˆæœ¬ã€‚å®‰è£…å¥½åï¼Œé¦–å…ˆå®‰è£…Bundlerï¼ˆ&lt;code&gt;gem install bundler&lt;/code&gt;ï¼‰ï¼Œç„¶åç¼–å†™Gemfileï¼ˆè§ä¸‹ï¼‰ï¼Œè¿è¡Œ&lt;code&gt;bundle install&lt;/code&gt;å³å¯ä¸€æ¬¡æ€§å®‰è£…å¥½æ‰€éœ€çš„gemsã€‚
<pre class="lang:ruby decode:true "># Gemfile
source "http://rubygems.org"
gem 'haml'      # Hamlæ¨¡ç‰ˆ
gem 'rdiscount' # æ¸²æŸ“Markdown
gem 'sinatra'   # Sinatra
gem 'thin'      # åº”ç”¨æœåŠ¡å™¨
gem 'shotgun'   # é‡å¯æœåŠ¡å™¨
group :test do
  gem 'rspec'     # å•å…ƒæµ‹è¯•
  gem 'nokogiri'  # è§£æHTMLè¾“å‡º
end
</pre>
<h3>æµ‹è¯•é©±åŠ¨å¼€å‘&lt;/h3&gt;
ä½¿ç”¨æµ‹è¯•é©±åŠ¨å¼€å‘å¹¶éä¸ºäº†èµ¶æ—¶é«¦ï¼Œåªæ˜¯ä¸ºäº†èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´å¥½çš„ä»£ç ã€‚

åœ¨æœ¬ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çš„æµ‹è¯•éœ€è¦èƒ½å¤Ÿè¾¾åˆ°ä»¥ä¸‹ç›®æ ‡ï¼š
<ol>
	<li>è®¿é—®<code>"/"</code>çš„æ—¶å€™èƒ½å¤Ÿæ­£ç¡®è¿”å›æ–‡ç« åˆ—è¡¨ï¼ˆè™½ç„¶åªæœ‰ä¸€ç¯‡æ–‡ç« ï¼‰</li>
	<li>è®¿é—®<code>"/:year/:month/:date/:title"</code>çš„æ—¶å€™èƒ½å¤Ÿæ­£ç¡®åœ°å±•ç¤ºæ–‡ç« å†…å®¹</li>
</ol>
<h3>æ­£å¼ç¼–å†™</h3>
åœ¨æœ¬ä¾‹å­ä¸­ï¼Œå°†åªæ¥å—ä¸¤ä¸ªè·¯ç”±è¯·æ±‚ï¼Œ&lt;code&gt;'/'&lt;/code&gt;å’Œ&lt;code&gt;'/:year/:month/:date/:title'&lt;/code&gt;ã€‚

é¦–å…ˆç¼–å†™å¦‚ä¸‹çš„æµ‹è¯•ï¼š
<pre># in app_spec.rb
describe 'blog' do
  before do
    @req = MockRequest.new(Sinatra::Application)
  end
 
  it "should show index correctly" do
    resp = @req.get '/'
    resp.status.should == 200
  end
end
</pre>
è¿è¡Œ<code>rspec app_spec.rb</code>å¯ä»¥çœ‹åˆ°å¤±è´¥ç»“æœã€‚å…ˆç¼–å†™ç®€å•çš„ä»£ç è®©æµ‹è¯•é€šè¿‡ã€‚
<pre># in app.rb
get '/' do
  ""
end
</pre>
ç„¶åç»§ç»­å¢åŠ æµ‹è¯•ï¼Œæˆ‘ä»¬æƒ³è®©è¿”å›çš„é¡µé¢ä¸­æœ‰é“¾æ¥åˆ°&lt;code&gt;/2010/10/10/a-lucky-day&lt;/code&gt;è¿™ä¸ªæ—¥å¿—çš„é“¾æ¥
<pre># in app_spec.rb
  ...
  it "should show index correctly" do
    resp = @req.get '/'
    resp.status.should == 200
 
    doc = Nokogiri.new(resp)
    (doc/'a[href="/2010/10/10/a-lucky-day"]').text.should == "A Lucky Day"
  end
</pre>
ä¸ºäº†é€šè¿‡è¿™ä¸ªæµ‹è¯•åˆ™è¦å†™ä¸€äº›é•¿ä¸€ç‚¹çš„ä»£ç ï¼Œä¸ºäº†çœç•¥ç¯‡å¹…ï¼Œ<code>Article</code>ç±»çš„ä»£ç åœ¨è¿™é‡Œå¿½ç•¥ï¼š
<pre># in app.rb
get '/' do
  @articles = []
  Dir.glob("articles/*.txt").each do |article_file|
    @articles &lt;&lt; Article.new(article_file)
  end
  haml :index
end
</pre>
åœ¨ä¸Šæ–‡çš„ä»£ç ä¸­ï¼Œé¦–å…ˆè¯»å–äº†articlesç›®å½•ä¸‹çš„æ‰€æœ‰txtåç¼€çš„æ–‡ä»¶ï¼Œå°±æ˜¯å…¨éƒ¨çš„æ—¥å¿—ã€‚ å¹¶æŠŠè¿™äº›æ—¥å¿—è£…åˆ°<code>@articles</code>è¿™ä¸ªæ•°ç»„ç±»å‹çš„å®ä¾‹å˜é‡ã€‚

åœ¨è§†å›¾ä¸­ï¼Œåˆ™ç®€å•çš„æŠŠæ—¥æœŸå’Œæ—¥å¿—åç§°ç½—åˆ—å‡ºæ¥ã€‚
<pre># in views/index.haml
    ...
      - @articles.each do |article|
        %header
          %h2
            = article.date.strftime("%Yå¹´%mæœˆ%dæ—¥&quot;)
            %a{ :href =&gt; article.path }= article.title
</pre>
æ¥ä¸‹æ¥ä½¿ç”¨åŒæ ·çš„æ–¹å¼æ¥ç¼–å†™æ˜¾ç¤ºæ—¥å¿—å…·ä½“å†…å®¹çš„ä»£ç ï¼š
<pre>it "should show article correctly" do
  resp = @req.get '/2010/10/10/a-lucky-day'
  resp.status.should == 200
  doc = Nokogiri(resp.body)
  (doc/'title').text.should == "A Lucky Day"
  (doc/'article h1').text.should == "ä»Šå¤©æ˜¯æˆ‘çš„å¹¸è¿æ—¥"
  resp.body.should match "é’±åŒ…é‡Œé¢æ­£å¥½æœ‰42å—é’±"
end
</pre>
å®ç°æ‰€ç”¨çš„ä»£ç ç›¸å¯¹ä¼šå°‘ä¸€äº›ï¼š
<pre># in app.rb
get '/:year/:month/:day/:title' do |year, month, day, title|
  article_file = "articles/#{year}-#{month}-#{day}-#{title}.txt"
  @article = Article.new(article_file)
  haml :show
end
 
# in views/show.haml
!!!
%html
  %head
    %title= @article.title
  %body
    %header
      %h1
        = @article.title
    %article= @article.body
</pre>
æµ‹è¯•é€šè¿‡ä»¥åï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>shotgun app.rb -s thin</code>å¼€å¯æœåŠ¡å™¨ï¼Œ è®¿é—®<a href="http://localhost:9393/">http://localhost:9393</a>å°±å¯ä»¥çœ‹åˆ°åœ¨æµè§ˆå™¨ä¸­çš„æ•ˆæœã€‚
<h3>éƒ¨ç½²</h3>
<a title="Heroku" href="http://heroku.com/">Heroku</a>æ˜¯ç›®å‰ä¸ºæ­¢æœ€å¥½ç”¨çš„Rubyåº”ç”¨éƒ¨ç½²æœåŠ¡ä¹‹ä¸€ã€‚åœ¨<a title="Heroku" href="http://heroku.com/">Heroku</a>çš„å¸®åŠ©ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿåœ°æŠŠè¿™ä¸ªåº”ç”¨å‘å¸ƒç»™å…¨ä¸–ç•Œä½¿ç”¨ã€‚

é¦–å…ˆç¼–å†™<code>config.ru</code>ï¼š
<pre># in config.ru
run Sinatra::Application
</pre>
ç„¶åè¿è¡Œå¦‚ä¸‹ä»£ç ï¼š
<pre># gitåˆå§‹åŒ–
git init .
git commit -a -m "Initial Commit"
 
# heroku éƒ¨ç½²
heroku create
git push heroku master
</pre>
å½“çœ‹åˆ°&quot;Launching ... done"çš„å­—æ ·çš„æ—¶å€™ï¼Œå°±è¯´æ˜æˆ‘ä»¬çš„ç¨‹åºéƒ¨ç½²æˆåŠŸäº†ï¼Œèµ¶å¿«ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥çœ‹çœ‹ç»“æœå§ï¼
<h3>è¯„è®º</h3>
<a title="Disqus Comments" href="http://disqus.com/">Disqus</a>æ˜¯ç›®å‰æˆ‘çŸ¥é“çš„æœ€å¥½ç”¨çš„è¯„è®ºç®¡ç†ç³»ç»Ÿã€‚æ›´è¦å‘½çš„æ˜¯ï¼Œå®ƒèƒ½å¤Ÿå¾ˆç®€å•çš„æŠŠä¸€ä¸ªè¯„è®ºç³»ç»ŸåŠ åˆ°æˆ‘ä»¬çš„åšå®¢ä¸­ï¼š
<pre>&lt;section class="comments"&gt;
  &lt;script type="text/javascript" src="http://disqus.com/forums/#{username}/embed.js"&gt;
&lt;/section&gt;
</pre>
åªè¦æŠŠä¸Šé¢è¿™æ®µhtmlä»£ç åŠ å…¥åˆ°æˆ‘ä»¬çš„ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªå®Œå–„çš„è¯„è®ºç³»ç»Ÿå°±å‡ºç°åœ¨ç”¨æˆ·çš„çœ¼å‰ã€‚æœ¬åœ°è°ƒè¯•çš„æ—¶å€™åˆ™è¦é¢å¤–åŠ ä¸Šä¸€å¥ï¼š
<pre>&lt;script type="text/javascript"&gt;var disqus_developer = 1;&lt;/script&gt;
</pre>
å€ŸåŠ©äº†Disqusï¼Œæˆ‘ä»¬çš„è¯„è®ºç³»ç»Ÿå°±ä¸ä¼šé€Šè‰²äºä»»ä½•çš„åšå®¢åº”ç”¨ã€‚
<h2>æ€è€ƒ&lt;/h2&gt;
å¦‚æœè¯»è€…èƒ½å¤Ÿåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­æ„Ÿå—åˆ°å¿«ä¹æˆ–è€…æƒŠå¥‡ï¼Œé‚£ä¹ˆæˆ‘ç¼–å†™æœ¬æ–‡ç« çš„ç›®çš„å°±ç®—è¾¾åˆ°äº†ã€‚ è¯¦ç»†çš„ä»£ç è¯·å‚è€ƒæœ¬æ–‡çš„é¡¹ç›®åœ°å€ï¼š&lt;a href="https://github.com/nouse/text-blog"&gt;https://github.com/nouse/text-blog&lt;/a&gt;

ä»¥ä¸‹åˆ™ä¸ºç¬”è€…åœ¨åˆ¶ä½œè¿™ä¸ªåº”ç”¨è¿‡ç¨‹ä¹‹ä¸­çš„ä¸€äº›æ€è€ƒã€‚

5å¹´å‰ï¼ŒRailsçš„åˆ›é€ è€…David Heinemeier Hanssonå‘å…¨ä¸–ç•Œä»‹ç»äº†15åˆ†é’Ÿç¼–å†™ blogåº”ç”¨ï¼ˆ&lt;a title="Ruby on Rails demo" href="http://v.youku.com/v_show/id_XMzA5MTYxNTY=.html"&gt;ä¼˜é…·è§†é¢‘é“¾æ¥&lt;/a&gt;ï¼‰ã€‚åœ¨5å¹´åï¼Œæˆ‘ä»¬åˆç”¨Sinatraé‡å¤é€ è½®å­ï¼Œå¦‚æœè¯»è€…å¯¹æ¯”ä¸¤è€…çš„å·®åˆ«ï¼Œ å°±èƒ½æ·±åˆ»æ„Ÿè§‰åˆ°è¿™5å¹´é‡ŒRubyä¸–ç•Œçš„ä¸€äº›å˜åŒ–ã€‚
<h3>åŸºæœ¬å·¥å…·ï¼ˆRVMå’ŒBundlerï¼‰&lt;/h3&gt;
è¿™5å¹´é—´ï¼ŒRubyåŸºæœ¬å·¥å…·æœ‰äº†å¾ˆå¤§çš„å‘å±•ã€‚è¿™å…¶ä¸­æœ€å¤§çš„äº®ç‚¹å°±æ˜¯<a title="Ruby Version Manager" href="http://rvm.beginrescueend.com/">RVMï¼ˆRuby Version Managerï¼‰&lt;/a&gt;ã€‚ é™¤äº†å¦‚å®ƒçš„åå­—æ‰€è¿°ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜å®‰è£…ä¸åŒç‰ˆæœ¬çš„Rubyä»¥å¤–ã€‚å®ƒçš„gemsetåŠŸèƒ½ä¹Ÿéå¸¸ å¥½ç”¨ã€‚ä¸åŒçš„gemsetä¹‹é—´æ˜¯ä¸€ä¸ªä¸ªç‹¬ç«‹çš„ç¯å¢ƒï¼Œä»è€Œé¿å…åŒä¸€ä¸ªgemçš„ä¸åŒç‰ˆæœ¬ä¹‹é—´çš„å¹²æ‰°ã€‚

å¦‚æœåœ¨é¡¹ç›®ç›®å½•ä¸‹æ·»åŠ .rvmrcï¼ˆ&lt;code&gt;rvm use version@gemset&lt;/code&gt;ï¼‰ï¼Œå°±å¯ä»¥è®©é¡¹ç›®å¤„äºä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒä¹‹ä¸­ã€‚ å†ç¼–å†™å¥½Gemfileï¼Œå°†é¡¹ç›®ä¸­éœ€è¦çš„Rubyåº“å…¨éƒ¨äº¤ç»™Bundlerç®¡ç†ï¼Œ å°±ä¸ä¼šå‡ºç°éƒ¨ç½²çš„æ—¶å€™ç¼ºä¹ç›¸åº”çš„åº“å¯¼è‡´å¤±è´¥çš„æƒ…å†µäº†ã€‚
<h3>æ–¹ä¾¿çš„éƒ¨ç½²&lt;/h3&gt;
Gitçš„æ™®åŠå’ŒHerokuçš„å´›èµ·ï¼Œå¤§å¤§ç®€åŒ–äº†éƒ¨ç½²çš„è¿‡ç¨‹ã€‚å¦‚æœ5å¹´å‰æœ‰Herokuçš„è¯ï¼Œ DHHçš„åšå®¢åº”ç”¨å¯ä»¥æœ‰æ›´å¤§çš„åå“ã€‚â€œç¼–å†™å®Œæˆâ€--&gt;â€œgit pushâ€--&gt;â€œä¸Šçº¿ï¼â€ã€‚ ä¸€ä¸ªåšå®¢åº”ç”¨å°±ä¸€ç¬é—´ä»¿ä½›æ´»äº†ä¸€æ ·ï¼Œä»ä¸€ä¸ªæœ¬åœ°çš„æ¼”ç¤ºé¡¹ç›®å˜æˆäº†ä¸€ä¸ªçœŸæ­£çš„çº¿ä¸Šåº”ç”¨ã€‚
<h3>Disqusç­‰ç¬¬ä¸‰æ–¹åº”ç”¨çš„å…´èµ·&lt;/h3&gt;
5å¹´å‰ï¼ŒWeb 2.0åˆšåˆšå…´èµ·ï¼Œåªè¦ç¼–å†™ä¸€ä¸ªä½¿ç”¨Ajaxå¢å¼ºäº¤äº’åŠŸèƒ½çš„åº”ç”¨ï¼Œ å°±å¯ä»¥å¸å¼•ç”¨æˆ·çš„çœ¼çƒã€‚ä½†æ˜¯éšç€Web 2.0çš„æ¦‚å¿µæ·±å…¥äººå¿ƒï¼Œåšä¸€ä¸ªblogæ˜¾ç„¶ä¸å†èƒ½å¸å¼•ç”¨æˆ·çš„çœ¼çƒäº†ã€‚

å¦‚æœDisqusè¿™æ ·çš„ç¬¬ä¸‰æ–¹åº”ç”¨èƒ½å¤Ÿé€æ¸å¢å¤šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±èƒ½å¤ŸæŠŠæ›´å¤šçš„æ—¶é—´æ”¾åœ¨æˆ‘ä»¬çœŸæ­£æƒ³å®ç°çš„åŠŸèƒ½ä¸Šã€‚ å°±åƒè¿™é‡Œï¼Œæˆ‘ä»¬åªè¦æŠŠåšå®¢çš„å†…å®¹å±•ç¤ºåšå¥½å°±å¤Ÿäº†ï¼Œå…¶ä»–çš„åˆ™äº¤ç»™æˆç†Ÿçš„æœåŠ¡æ¥å¤„ç†ã€‚ Railsçš„æˆåŠŸå°±åœ¨äºç®€åŒ–äº†å¼€å‘Web 2.0åº”ç”¨çš„æ—¶é—´ã€‚å€Ÿç”¨ä¸€ä¸‹jQueryçš„å£å·â€œwrite less, do moreâ€ï¼Œ â€œå†™çš„æ›´å°‘ï¼Œåšçš„æ›´å¤šâ€æ˜¯è½¯ä»¶å¼€å‘æ°¸è¿œçš„ä¸»é¢˜ã€‚
<h3>Sinatraå’ŒRailsçš„å…³ç³»&lt;/h3&gt;
DHHåœ¨æ¨å‡ºRailsçš„æ—¶å€™ï¼Œè®©æ·±é™·äºJavaä¸–ç•Œçš„å¼€å‘äººå‘˜çœ‹åˆ°äº†å¸Œæœ›ï¼ŒRailsä¹Ÿå€ŸåŠ©Web 2.0çš„çƒ­æ½®è¿…é€Ÿèµ°çº¢ã€‚ å…¶å®ï¼Œç¬”è€…æ‰€åšçš„æ¼”ç¤ºçš„åŠŸèƒ½æ¨¡ä»¿çš„æ˜¯ä¸€ä¸ªRackåº”ç”¨ç¨‹åºï¼Œ&lt;a title="toto" href="http://github.com/cloudhead/toto"&gt;toto&lt;/a&gt;ã€‚ æ‰€ä»¥è¯»è€…ä»¬ä¹Ÿä¸å¿…è¿·ä¿¡ï¼Œç”¨Sinatraç»è¿‡15åˆ†é’Ÿèƒ½åšå‡ºæ›´å¥½çš„åšå®¢åº”ç”¨ï¼Œå°±è¯´æ˜Sinatraä¼šå–ä»£Railsã€‚

å½“å‰æœ€æµè¡Œçš„æ–¹å¼æ˜¯èåˆï¼Œæ¯”å¦‚gemcutter.orgï¼Œä¹Ÿå°±æ˜¯ç°åœ¨çš„rubygems.orgã€‚ ä»–ä»¬æ•´ä¸ªç«™ç‚¹ä½¿ç”¨çš„æ˜¯Rails 3ï¼Œè€Œå®¢æˆ·ä¸‹è½½gemçš„è¯·æ±‚åˆ™æ˜¯è¢«Sinatraå¤„ç†ã€‚ è¿™æ ·å°±å¯ä»¥ä¿è¯ç½‘ç«™åœ¨å‡çº§çš„æ—¶å€™ä¸ä¼šå½±å“ä¸‹è½½gemçš„è¯·æ±‚ï¼Œè€Œä¸”Sinatraå¤„ç†è¯·æ±‚çš„é€Ÿåº¦ä¹Ÿä¼˜äºRails 3ï¼Œ ç”¨æ¥å¤„ç†æ¯å¤©è¶…è¿‡è®¿é—®ç½‘ç«™æ•°å€çš„ä¸‹è½½è¯·æ±‚ä¹Ÿååˆ†åˆé€‚ã€‚

ä¸ç®¡æ€æ ·ï¼Œåªæœ‰æ›´å¤šçš„äº†è§£ä¸€ä¸ªæ¡†æ¶çš„ä¼˜ç¼ºç‚¹ï¼Œæ‰èƒ½åœ¨çœŸæ­£ä½¿ç”¨çš„æ—¶å€™åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚è€ŒSinatraçš„æºä»£ç åªæœ‰ä¸€åƒè¡Œï¼Œè¦äº†è§£å®ƒå¹¶åšå‡ºé€‰æ‹©ï¼Œç›¸ä¿¡ä¸æ˜¯ä»¶éš¾äº‹ã€‚
</h3></h3></h3></a></h3></h2></h3></h2></li></li></li></ul></h2>
:ET