I"š<p>æ–‡ç« ä»‹ç»äº†rubyä½¿ç”¨active recordå¼€å‘æ•°æ®åº“åº”ç”¨ä¸­ï¼Œé€šè¿‡è®¾ç½®å¤–é”®ï¼Œå®ç°è”è¡¨æŸ¥è¯¢çš„åŠŸèƒ½ã€‚</p>

<p>å¦‚æœ‰ä»¥ä¸‹éœ€æ±‚ï¼š</p>

<p>ä¸€ä¸ªç”¨æˆ·è¡¨ï¼Œå«æœ‰id,name,type_idä¸‰ä¸ªå­—æ®µï¼Œtype_idè®¾ç½®å¤–é”®ï¼Œå…³è”å¦ä¸€ä¸ªtypeè¡¨ã€‚</p>

<p>typeè¡¨ä¸¤ä¸ªå­—æ®µï¼Œid,nameã€‚</p>

<p>å¦‚æœæƒ³åœ¨æŸ¥è¯¢useræ—¶åŒæ—¶æŸ¥å‡ºtype_idæ‰€ä»£è¡¨çš„type nameï¼Œåˆ™éœ€è¦ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<pre class="lang:ruby decode:true"># encoding : UTF-8

require 'mysql2'
require 'active_record'

# è¿æ¥æ•°æ®åº“
ActiveRecord::Base.establish_connection(
	:adapter =&gt; "mysql2", 
	:host =&gt; "192.168.1.151", 
	:database =&gt; "test", 
	:username =&gt; "test", 
	:password =&gt; "123456")

# Userè¡¨
class User &lt; ActiveRecord::Base
	self.table_name = "user"
	self.primary_key = "id"

	#è®¾ç½®å…³è”å…³ç³»ï¼ŒæŒ‡å®šå¤–é”®
	belongs_to :type, foreign_key: "type_id"
end

# Typeè¡¨
class Type &lt; ActiveRecord::Base
	self.table_name = "type"
	self.primary_key = "id"
end

# æŸ¥è¯¢æŸç”¨æˆ·
user = User.find(1)

# æ­¤æ—¶ç”¨æˆ·ä¸­ä¼šè‡ªåŠ¨æ·»åŠ typeå±æ€§
# åˆ™å¯å¾—åˆ°ç›¸å¯¹åº”çš„nameå€¼
puts user.type.name</pre>
<p>å…¶ä¸­belongs_toå°±æ˜¯ä¸€ç§ä¸¤ä¸ª Active Record æ¨¡å‹ä¹‹é—´çš„å…³è”ç±»å‹ã€‚</p>

<p>ActiveRecordå£°æ˜ä¸€ä¸ªæ¨¡å‹å±äºï¼ˆ<code>belongs_to</code>ï¼‰å¦ä¸€ä¸ªæ¨¡å‹åï¼Œä¼šç»´æŠ¤ä¸¤ä¸ªæ¨¡å‹ä¹‹é—´çš„â€œä¸»é”®-å¤–é”®â€å…³ç³»ï¼Œè€Œä¸”è¿˜å‘æ¨¡å‹ä¸­æ·»åŠ äº†å¾ˆå¤šå®ç”¨çš„æ–¹æ³•ã€‚</p>

<p>ActiveRecordæ”¯æŒå…­ç§å…³è”ï¼š</p>
<ul>
	<li><code>belongs_to</code></li>
	<li><code>has_one</code></li>
	<li><code>has_many</code></li>
	<li><code>has_many :through</code></li>
	<li><code>has_one :through</code></li>
	<li><code>has_and_belongs_to_many</code></li>
</ul>
<p>Active Record çš„å…³è”åŠŸèƒ½è¿˜æ˜¯æŒºå¤æ‚çš„ï¼Œè¿™é‡Œåªæ˜¯ä»‹ç»äº†æœ€ç®€å•çš„ä¸€ç§æƒ…å†µï¼Œæ›´è¯¦ç»†çš„åŠŸèƒ½æŸ¥é˜…æ–‡æ¡£ï¼š&lt;a href=â€http://guides.ruby-china.org/association_basics.htmlâ€ target=â€_blankâ€&gt;ç‚¹è¿™é‡Œ&lt;/a&gt;</p>
:ET