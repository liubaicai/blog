I"Ú<p>é¦–å…ˆæœ‰ä¸ªwpä¸Šçš„httpæœåŠ¡å™¨</p>

<p><a href="http://wphttpserver.codeplex.com/">http://wphttpserver.codeplex.com/</a></p>

<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<pre class="lang:c# decode:true ">// create the http server
// http://www.liubaicai.net/archives/458            
HttpServer httpServer = new HttpServer("192.168.2.102");

// register an request handler which will handle the posted form data
httpServer.RegisterRequestHandler(new Regex("/sendSms"), request =&gt;
{
    // get the data send as form data
    FormDataContentProvider formDataProvider = request.Content as FormDataContentProvider;

    // read the data from the form
    string number = formDataProvider.FormData["number"];
    string message = formDataProvider.FormData["message"];

    // use the windows phone SMS api to send a SMS
    SmsComposeTask smsTask = new SmsComposeTask();
    smsTask.To = number;
    smsTask.Body = message;
    smsTask.Show();
    
    // tell the client, that everything went fine
    return new HttpResponse(HttpStatusCode.Ok);
});
</pre>
<p>éœ€è¦ç§»æ¤åˆ°win10uapä¸Šæ¥ï¼Œæ˜¯å¾ˆç®€å•çš„ã€‚</p>

<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªæœåŠ¡å™¨æ¥åšä¸€ä¸ªæœ¬åœ°æˆ–è€…å±€åŸŸç½‘çš„åª’ä½“æ’­æ”¾å™¨ã€‚</p>

<p>è¿™é‡Œè¯´å‡ ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹</p>

<p>1.è¯»å†™åª’ä½“æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨StorageFileç±»çš„OpenStreamForReadAsyncä¹‹ç±»çš„åŠŸèƒ½ï¼Œç›´æ¥å°†æ–‡ä»¶æµä¸ç½‘ç»œæµåšè½¬åŒ–ï¼Œè€Œä¸è¦ä½¿ç”¨FileIOä¸­çš„è¯»å†™æ–‡ä»¶æ–¹æ³•ã€‚</p>

<p>2.å“åº”è¯·æ±‚æ—¶ï¼ŒåŠ¡å¿…è®¾ç½®Content-Typeæ‰èƒ½è¢«å®¢æˆ·ç«¯æ’­æ”¾å™¨è¯†åˆ«ã€‚æ ¹æ®éœ€è¦ï¼Œä¹Ÿå¯ä»¥æ·»åŠ å…¶ä»–Headerã€‚</p>
<pre class="brush:csharp;">response.Headers.Add("Content-Type", "application/octet-stream");</pre>
<p>3.è¿”å›åª’ä½“æ•°æ®æ—¶ï¼Œä½¿ç”¨BinaryContextProviderè€Œä¸æ˜¯å…¶ä»–ContextProviderã€‚</p>
:ET