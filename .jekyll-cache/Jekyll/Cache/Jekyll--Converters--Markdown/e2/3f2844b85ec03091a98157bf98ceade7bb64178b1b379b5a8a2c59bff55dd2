I"Œ<p>é…ç½®æ­¥éª¤ï¼ˆå…±8æ­¥ï¼‰ï¼š</p>

<p>0ã€åˆ›å»ºç§é’¥å’Œè¯ä¹¦å­˜æ”¾ç›®å½•</p>

<p>mkdir -p /usr/local/nginx/ssl/private
cd /usr/local/nginx/ssl/private</p>

<p>1ã€åˆ›å»ºæœåŠ¡å™¨ç§é’¥</p>

<h1 id="ä¼šæç¤ºè¾“å…¥ä¸¤æ¬¡å¯†ç enter-pass-phrase-for-serverkey">ä¼šæç¤ºè¾“å…¥ä¸¤æ¬¡å¯†ç (Enter pass phrase for server.key)ï¼Œ</h1>
<h1 id="ä¸¤æ¬¡å¯†ç ä¿æŒä¸€è‡´åé¢è¿˜ä¼šç”¨åˆ°">ä¸¤æ¬¡å¯†ç ä¿æŒä¸€è‡´ï¼Œåé¢è¿˜ä¼šç”¨åˆ°</h1>
<p>openssl genrsa -des3 -out server.key 1024
2ã€ç”¨äºå‘ç¬¬ä¸‰æ–¹SSLè¯ä¹¦é¢å‘æœºæ„çš„è¯·æ±‚æ–‡ä»¶CSR</p>

<h1 id="æç¤ºè¾“å…¥ç§é’¥çš„å¯†ç åä¼šæç¤ºè¾“å…¥åœ°åŸŸå’Œé‚®ç®±æœ¬ç€èƒ½å·æ‡’å°±å·æ‡’çš„åŸåˆ™">æç¤ºè¾“å…¥ç§é’¥çš„å¯†ç åï¼Œä¼šæç¤ºè¾“å…¥åœ°åŸŸå’Œé‚®ç®±ï¼Œæœ¬ç€èƒ½å·æ‡’å°±å·æ‡’çš„åŸåˆ™ï¼Œ</h1>
<h1 id="ç›´æ¥ç•™ç©ºå›è½¦æ³¨æ„æç¤ºcommon-nameçš„æ—¶å€™è¾“å…¥è‡ªå·±çš„åŸŸåniliume-ä¹Ÿå¯ä»¥æ˜¯æ³›åŸŸåniliume">ç›´æ¥ç•™ç©ºå›è½¦ï¼Œæ³¨æ„æç¤ºCommon Nameçš„æ—¶å€™è¾“å…¥è‡ªå·±çš„åŸŸåniliu.me, ä¹Ÿå¯ä»¥æ˜¯æ³›åŸŸå*.niliu.me</h1>
<p>openssl req -new -key server.key -out server.csr</p>

<p>3ã€ç”Ÿæˆè‡ªç­¾åçš„è¯ä¹¦CRT</p>

<h1 id="ä¼šæç¤ºè¾“å…¥ç§é’¥å¯†ç ">ä¼šæç¤ºè¾“å…¥ç§é’¥å¯†ç </h1>
<p>openssl x509 -req -in server.csr -out server.crt -signkey server.key -days 3650
4ã€å‰¥ç¦»å¯†ç ï¼ˆé¿å…é‡å¯Nginxçš„æ—¶å€™éœ€è¦è¾“å…¥å¯†ç ï¼Œæç¤ºEnter PEM pass phraseï¼‰</p>

<h1 id="ä¼šæç¤ºè¾“å…¥ç§é’¥å¯†ç -1">ä¼šæç¤ºè¾“å…¥ç§é’¥å¯†ç </h1>
<p>openssl rsa -in server.key -out server.key.unsecure
5ã€é…ç½®nginx</p>

<h1 id="åœ¨nginx-é…ç½®æ–‡ä»¶serverå—listen-80-åä¸€è¡Œæ–°å¢å¦‚ä¸‹æŒ‡ä»¤">åœ¨nginx é…ç½®æ–‡ä»¶serverå—listen 80; åä¸€è¡Œæ–°å¢å¦‚ä¸‹æŒ‡ä»¤</h1>
<p>listen 443 ssl;
ssl_certificate /usr/local/nginx/ssl/private/server.crt;
ssl_certificate_key /usr/local/nginx/ssl/private/server.key.unsecure;
6ã€é‡å¯Nginx</p>

<p>systemctl reload nginx
7ã€æµ‹è¯•
æœ¬åœ°ç»‘æµ‹è¯•ç¯å¢ƒhost
Mac ä¸‹ Chromeæ‰“å¼€httpsåœ°å€
æç¤ºâ€œæ‚¨çš„è¿æ¥ä¸æ˜¯ç§å¯†è¿æ¥â€ï¼Œé€‰æ‹©é«˜çº§ï¼Œç»§ç»­å‰å¾€niliu.me(ä¸å®‰å…¨)</p>

<p>Macä¸‹ Safariæ‰“å¼€httpsåœ°å€
æç¤ºæ­¤ç½‘ç«™è¯ä¹¦æ— æ•ˆçš„æ—¶å€™ï¼Œç‚¹å‡»æ˜¾ç¤ºè¯ä¹¦ï¼Œé€‰æ‹©å§‹ç»ˆä¿¡ä»»ã€‚</p>

<p>æ³¨ï¼šå±€åŸŸç½‘å†…æµ‹è¯•å¯ä»¥ï¼Œå…¬ç½‘ä¸å¯ä»¥ã€‚</p>

:ET